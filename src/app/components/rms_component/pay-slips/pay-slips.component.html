<!-- payslip -->
<app-rms-navbar></app-rms-navbar>
<div class="employee-interview-details-container">
  <div class="apply-button-container">
    <!-- <button class="apply-btn" (click)="showPopup = true; popupTitle = 'Apply for PaySlip'">Apply PaySlip</button> -->
  </div>

  <div class="table-scroll-container">
    <h3 class="name">History</h3>
    <table>
      <thead>
        <tr>
          <!-- <th>EmployeeD</th> -->
          <th>employeeId</th>
          <th>leaveId</th>
          <th>Request</th>
          <th>From Date</th>
          <th>To Date</th>
          <th>Reason</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let request of leave">
          <!-- <td>{{ request.employeeId }}</td> -->
          <td>{{ request.employeeId }}</td>
          <td>{{request.leaveId}}</td>
          <td>{{ request.leaveType }}</td>
          <td>{{ request.startDate | date }}</td>
          <td>{{ request.endDate | date }}</td>
          <td>{{ request.reason }}</td>
          <td>{{request.status}}</td>
            <td>
              <button class="update-btn" (click)="openRelievingForm(request)">Update</button>
            <!-- <button class="update-btn"  (click)="viewDetails(detail)">View</button> -->
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  


  <!-- Action Buttons -->


<!-- Popup Content -->
<div *ngIf="showPopup" class="relieving-form-popup">
  <div class="relieving-form-content">
    <h2>Update payslip Status</h2>
    <p>Employee ID: {{ selectedDetail?.employeeId }}</p>
    <p>leave ID: {{ selectedDetail?.leaveId }}</p>
    <p>Leave Type: {{ selectedDetail?.leaveType }}</p>
    <p>Start Date: {{ selectedDetail?.startDate | date }}</p>
    <p>End Date: {{ selectedDetail?.endDate | date }}</p>
    <p>Reason: {{ selectedDetail?.reason }}</p>

    <div class="form-actions">
      <!-- Buttons for generating or rejecting payslip -->
      <button class="submit-btn btn1" (click)="updatePayslipStatus('Generated')">Generate Payslip</button>
      <button class="submit-btn btn1" (click)="updatePayslipStatus('Rejected')">Reject Payslip</button>
    </div>
    <button type="button" class="close-btn" (click)="closeRelievingForm()">Close</button>
  </div>
</div>