<app-bdm-navbar></app-bdm-navbar>

<div class="center-container">
  <div class="d-flex justify-content-center mb-4" style="margin-top: 70px; margin-left: 100px;">
    <button class="btn testers-btn" (click)="fetchCandidates('Tester')"
      [ngClass]="{'active': selectedRole === 'Tester'}">
      Testers
    </button>
    <button class="btn developers-btn" (click)="fetchCandidates('Developer')"
      [ngClass]="{'active': selectedRole === 'Developer'}">
      Developers
    </button>
  </div>



  <!-- Candidate Table -->
  <div class="table-responsive">
    <table class="table table-hover table-bordered table-striped shadow-sm rounded-table">
      <thead class="table-primary">
        <tr>
          <th>Employee ID</th>
          <th>Employee Name</th>
          <th>Date of Joining</th>
          <th>Client Name</th>
          <th>Client Location</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let candidate of candidates">
          <td style="padding: 12px;" class="align-middle">
            {{ candidate.employeeId }}
          </td>
          <!-- Candidate Full Name -->
          <td style="padding: 12px; white-space: nowrap;" class="align-middle">
            {{ candidate.employeeName }}
          </td>
          <!-- Date of Joining -->
          <!-- <td style="padding: 12px; white-space: nowrap;" class="align-middle">
            {{ candidate.dateOfJoin }}
          </td> -->

          <td style="padding: 12px; white-space: nowrap;" class="align-middle">
            {{ candidate.dateOfJoin ? candidate.dateOfJoin : 'N/A' }}
          </td>
          
          <!-- Client Name -->
          <td style="padding: 12px; white-space: nowrap;" class="align-middle">
            {{ candidate.clientName }}
          </td>
          <!-- Client Location -->
          <td style="padding: 12px; white-space: nowrap;" class="align-middle">
            {{ candidate.clientLocation }}
          </td>
          <!-- Actions (Edit and Delete) -->
          <td class="text-center align-middle">
            <button class=" btn-warning btn-edit btn-sm me-1" title="Edit" (click)="editCandidate(candidate)">
              <i class="bi bi-pencil-square"></i>
            </button>
            <button class=" btn-danger btn-sm btn-delete" title="Delete" (click)="deleteCandidate(candidate)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



<!-- Edit Date of Joining Modal -->
<div
  class="modal fade"
  id="editDateModal"
  tabindex="-1"
  aria-labelledby="editDateModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" style="color: white;" id="editDateModalLabel">Edit Date of Joining</h5>
      </div>
      <div class="modal-body" *ngIf="selectedCandidate">
        <form>
          <div class="mb-3">
            <label for="dateOfJoin" class="form-label">Date of Joining</label>
            <input
              type="date"
              class="form-control"
              id="dateOfJoin"
              [(ngModel)]="selectedCandidate.dateOfJoin"
              name="dateOfJoin"
              required
            />
          </div>
        </form>
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button type="button" class="btn btn-primary me-2" (click)="submitEdit()">Submit</button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
