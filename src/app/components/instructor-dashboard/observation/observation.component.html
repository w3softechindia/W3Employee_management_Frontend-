<app-instructor-navbar></app-instructor-navbar>

<div class="db-main-content-area">
  <div class="container-fluid">
    <!-- Teams Section -->
    <div *ngIf="teams.length > 0" class="teams-container">
      <div *ngFor="let team of teams" class="team-box" (click)="loadEmployees(team.teamName)">
        <h3 class="team-name">{{ team.teamName }}</h3>
        <h4 *ngIf="team.course.length > 0">Course: {{ team.course[0].courseName }}</h4>
        <h4 *ngIf="team.course.length === 0">Course: None</h4>
        <h5>Number of employees: {{ team.employee.length }}</h5>
      </div>
    </div>
    <div *ngIf="teams.length === 0" class="no-teams">
      No Teams Available.....!
    </div>

    <!-- Employees Section -->
    <div *ngIf="employees.length > 0" class="employees-container">
      <div *ngFor="let employee of employees" class="employee-box" (click)="loadTasks(employee.employeeId)">
        <h3>{{ employee.firstName }} {{ employee.lastName }}</h3>
        <h5>Employee ID: {{ employee.employeeId }}</h5>
      </div>
    </div>
    <div *ngIf="employees.length === 0" class="no-employees">
      No Employees Available.....!
    </div>

    <!-- Tasks Section -->
    <!-- <div *ngIf="taskStatuses.length > 0" class="tasks-container">
      <div *ngFor="let taskStatus of taskStatuses" class="task-box" (click)="openUpdateModal(taskStatus.task)">
        <h3>{{ taskStatus.task.taskName }}</h3>
        <h5>Status: {{ taskStatus.status }}</h5>
      </div>
    </div> -->
    <div *ngIf="taskStatuses.length === 0" class="no-tasks">
      No Tasks Available.....!
    </div>
  </div>
</div>

<!-- Update Task Status Modal -->
<div class="modal" [class.show]="showUpdateModal">
  <div class="modal-content">
    <span class="close" (click)="closeUpdateModal()">&times;</span>
    <h2>Update Task Status</h2>
    <form [formGroup]="taskStatusForm" (ngSubmit)="updateTaskStatus()">
      <div class="form-group">
        <label for="status">Status</label>
        <select id="status" formControlName="status" class="form-control">
          <option value="Complete">Complete</option>
          <option value="Incomplete">Incomplete</option>
        </select>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-primary">Update Status</button>
      </div>
    </form>
  </div>
</div>
